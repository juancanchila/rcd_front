<!-- Contenido principal -->
<main class="lista-page-wrapper">
  <!-- Botón para crear nuevo -->
  <div style="text-align:right; margin-bottom:12px"
       *ngIf="!['resolucion', 'visitatecnica', 'reporte','proyecto', 'vehiculo'].includes(tipo)">
    <button mat-raised-button color="primary" [routerLink]="['/', tipo, 'create']">
      <mat-icon>add</mat-icon>
      Crear nuevo {{ tipo === 'receptor' ? 'Gestor' : (tipo | titlecase) }}
    </button>
  </div>
  <!-- Botón de descarga CSV solo para tipos permitidos -->
<div style="text-align:right; margin-bottom:12px"
     *ngIf="['vehiculo', 'proyecto', 'resolucion'].includes(tipo)">
  <button mat-raised-button color="accent" (click)="descargarCsv()">
    <mat-icon>download</mat-icon>
    Descargar CSV
  </button>
</div>


  <!-- Título dinámico -->
  <h2 class="lista-page-title">
    Lista de {{ tipo === 'receptor' ? 'Gestor' : (tipo | titlecase) }}
  </h2>

  <!-- Tabla -->
  <app-tabla
    [tipo]="tipo"
    [title]="'Lista de ' + (tipo === 'receptor' ? 'Gestor' : (tipo | titlecase))">
  </app-tabla>

  <!-- Footer compartido -->
  <shared-footer></shared-footer>
</main>
