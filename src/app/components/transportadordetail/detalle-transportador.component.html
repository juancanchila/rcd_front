<!-- Toolbar -->
<mat-toolbar color="primary">
  <button mat-icon-button (click)="volver()">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <span class="toolbar-title">
    {{ transportador?.razonSocial || (transportador?.primerNombre + ' ' + transportador?.primerApellidos) }}
  </span>
</mat-toolbar>

<!-- Contenido -->
<div class="content-wrapper" *ngIf="!loading && transportador">

  <mat-card class="detalle-card">
    <mat-card-header>
      <mat-card-title>ðŸš› Detalle Transportador</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <table class="tabla-detalle">
        <tr><th>ID:</th><td>{{ transportador.id }}</td></tr>
        <tr><th>Tipo Documento:</th><td>{{ transportador.tipoDocumento }}</td></tr>
        <tr><th>NÃºmero Documento:</th><td>{{ transportador.numeroDocumento }}</td></tr>
        <tr><th>Primer Nombre:</th><td>{{ transportador.primerNombre || "â€”" }}</td></tr>
        <tr><th>Segundo Nombre:</th><td>{{ transportador.segundoNombre || "â€”" }}</td></tr>
        <tr><th>Primer Apellido:</th><td>{{ transportador.primerApellidos || "â€”" }}</td></tr>
        <tr><th>Segundo Apellido:</th><td>{{ transportador.segundoApellido || "â€”" }}</td></tr>
        <tr><th>RazÃ³n Social:</th><td>{{ transportador.razonSocial || "â€”" }}</td></tr>
        <tr><th>Documento IdentificaciÃ³n:</th><td>{{ transportador.documentoIdentificacion }}</td></tr>
        <tr><th>Documento RUT:</th><td>{{ transportador.documentoRUT }}</td></tr>
        <tr><th>DirecciÃ³n:</th><td>{{ transportador.direccion }}</td></tr>
        <tr><th>Correo:</th><td>{{ transportador.correoElectronico }}</td></tr>
        <tr><th>TelÃ©fono:</th><td>{{ transportador.telefono }}</td></tr>
        <tr><th>Fax:</th><td>{{ transportador.fax || "â€”" }}</td></tr>
        <tr><th>Celular:</th><td>{{ transportador.celular }}</td></tr>
        <tr><th>CIIU:</th><td>{{ transportador.ciiu || "â€”" }}</td></tr>
        <tr><th>Tipo Doc. RL:</th><td>{{ transportador.tipoDocumentoRL || "â€”" }}</td></tr>
        <tr><th>NÃºmero Doc. RL:</th><td>{{ transportador.numeroDocumentoRL || "â€”" }}</td></tr>
        <tr><th>Nombre RL:</th><td>{{ transportador.nombreRL || "â€”" }}</td></tr>
        <tr><th>Email RL:</th><td>{{ transportador.emailRL || "â€”" }}</td></tr>
      </table>
    </mat-card-content>
  </mat-card>

  <!-- VehÃ­culos -->
  <mat-card class="vehiculos-card" *ngIf="vehiculos.length > 0">
    <mat-card-header>
      <mat-card-title>ðŸšš VehÃ­culos del Transportador</mat-card-title>
      
  <!-- â­ BotÃ³n agregar vehÃ­culo -->
  <button mat-icon-button color="primary"
          class="btn-add-vehiculo"
          (click)="agregarVehiculo()">
    <mat-icon>add_circle</mat-icon>
  </button>
    </mat-card-header>
    <mat-card-content>
      <table class="tabla-vehiculos">
        <thead>
          <tr>
            <th>Placa</th>
            <th>Modelo</th>
            <th>Capacidad</th>
            <th>Fecha Exp. PIN</th>
            <th>Fecha Venc. PIN</th>
            <th>PIN</th>
            <th>Ver PIN</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let vehiculo of vehiculos">
            <td>{{ vehiculo.placaVehiculo }}</td>
            <td>{{ vehiculo.modelo }}</td>
            <td>{{ vehiculo.capacidad }} kg</td>
            <td>{{ vehiculo.fechaExpedicionPIN }}</td>
            <td>{{ vehiculo.fechaVencimientoPIN }}</td>
            <td>{{ vehiculo.pin }}</td>
            <td>
           <button mat-icon-button  (click)="goToPin(vehiculo.id)">
             <mat-icon>picture_as_pdf</mat-icon></button> 
            </td>
            <td>
              <button mat-icon-button (click)="goToDetalle(vehiculo.id)">
               
                <mat-icon>search</mat-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </mat-card-content>
  </mat-card>

  <!-- Mensaje si no hay vehÃ­culos -->
  <p *ngIf="vehiculos.length === 0" class="sin-datos">
    No hay vehÃ­culos registrados para este transportador.
  </p>
</div>

<!-- Loader -->
<div *ngIf="loading" class="loader-wrapper">
  <mat-spinner></mat-spinner>
</div>

<!-- Footer -->
<shared-footer></shared-footer>
